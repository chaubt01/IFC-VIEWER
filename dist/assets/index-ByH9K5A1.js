import*as r from"https://unpkg.com/@thatopen/components/dist/index.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function f(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=f(e);fetch(e.href,t)}})();const m="https://my-ifc-project.onrender.com",a=new URLSearchParams(location.search).get("file");if(!a)throw alert("Thiáº¿u ?file="),0;document.getElementById("app");const o=new r.Components;o.add(r.SimpleScene);o.add(r.SimpleCamera);o.add(r.SimpleRenderer);o.add(r.FragmentsManager);o.add(r.IfcLoader);await o.init();const s=o.get(r.SimpleScene),d=o.get(r.SimpleCamera),l=o.get(r.IfcLoader);s.setup();d.controls.setLookAt(10,10,10,0,0,0);await l.setup();const p=await fetch(`${m}/download-ifc?file=${encodeURIComponent(a)}`),u=new Uint8Array(await p.arrayBuffer()),g=await l.load(u);s.three.add(g);d.controls.fitToSphere();
